login as: admuser
admuser@10.5.20.31's password:
Welcome to Ubuntu 24.04.3 LTS (GNU/Linux 6.8.0-71-generic x86_64)

 * Documentation:  https://help.ubuntu.com
 * Management:     https://landscape.canonical.com
 * Support:        https://ubuntu.com/pro

 System information as of Mon Aug 18 09:30:35 PM UTC 2025

  System load:  0.11               Processes:              324
  Usage of /:   19.3% of 71.77GB   Users logged in:        1
  Memory usage: 50%                IPv4 address for ens33: 10.5.20.31
  Swap usage:   0%


Expanded Security Maintenance for Applications is not enabled.

10 updates can be applied immediately.
To see these additional updates run: apt list --upgradable

5 additional security updates can be applied with ESM Apps.
Learn more about enabling ESM Apps service at https://ubuntu.com/esm


Last login: Mon Aug 18 21:14:21 2025 from 172.16.1.8
admuser@ceshtjeligjore:~$ sudo -i
[sudo] password for admuser:
root@ceshtjeligjore:~# sudo fix_data_table_error.sh
sudo: fix_data_table_error.sh: command not found
root@ceshtjeligjore:~# sudo nano fix_data_table_error.sh
root@ceshtjeligjore:~# chmod +x fix_data_table_error.sh
./fix_data_table_error.sh
================================================
Fixing Data Table 500 Error
================================================
[INFO] Application: /opt/ceshtje_ligjore/ceshtje_ligjore
[BACKUP] Created: backup_fix_table_20250818_213248
[FIX 1] Updating storage.ts search conditions...
[FIX 2] Ensuring proper handling of timestamp field...
[UPDATE] Adding date handling to data table component...
[FIX 3] Updating database to handle null values...

> rest-express@1.0.0 db:push
> drizzle-kit push

No config path provided, using default 'drizzle.config.ts'
Reading config file '/opt/ceshtje_ligjore/ceshtje_ligjore/drizzle.config.ts'
Using 'pg' driver for database querying
[✓] Pulling schema from database...
[✓] Changes applied
[BUILD] Building application...

> rest-express@1.0.0 build
> vite build && esbuild server/index.ts --platform=node --packages=external --bundle --format=esm --outdir=dist

vite v5.4.19 building for production...
Browserslist: browsers data (caniuse-lite) is 10 months old. Please run:
  npx update-browserslist-db@latest
  Why you should do it regularly: https://github.com/browserslist/update-db#readme
✓ 2679 modules transformed.
../dist/public/index.html                                         1.06 kB │ gzip:   0.61 kB
../dist/public/assets/Albpetrol.svg_1754604323425-C1lBmiZp.png   93.96 kB
../dist/public/assets/index-B-en1Tjs.css                         90.50 kB │ gzip:  14.75 kB
../dist/public/assets/index-DV_WIU19.js                         654.53 kB │ gzip: 192.64 kB

(!) Some chunks are larger than 500 kB after minification. Consider:
- Using dynamic import() to code-split the application
- Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
- Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
✓ built in 4.08s
✘ [ERROR] Expected ")" but found "ilike"

    server/storage.ts:421:10:
      421 │           ilike(users.firstName, `%${filters.search}%`)
          │           ~~~~~
          ╵           )

1 error
root@ceshtjeligjore:~#
root@ceshtjeligjore:~#
root@ceshtjeligjore:~# sudo nano fix_case_submission_error.sh
root@ceshtjeligjore:~# chmod +x fix_case_submission_error.sh
./fix_case_submission_error.sh
================================================
Fixing Case Submission 400 Error
================================================
[INFO] Application: /opt/ceshtje_ligjore/ceshtje_ligjore
[BACKUP] Created: backup_case_submission_20250818_214404
[FIX 1] Updating case entry form data transformation...
[FIX 2] Updating schema validation to handle optional timestamp...
[FIX 3] Updating server routes to handle timestamp conversion...
[FIX 4] Adding better error logging for debugging...
[FIX 5] Ensuring database can handle null timestamps...

> rest-express@1.0.0 db:push
> drizzle-kit push

No config path provided, using default 'drizzle.config.ts'
Reading config file '/opt/ceshtje_ligjore/ceshtje_ligjore/drizzle.config.ts'
Using 'pg' driver for database querying
[✓] Pulling schema from database...
[i] No changes detected
[BUILD] Building application...

> rest-express@1.0.0 build
> vite build && esbuild server/index.ts --platform=node --packages=external --bundle --format=esm --outdir=dist

vite v5.4.19 building for production...
transforming (3) src/main.tsxBrowserslist: browsers data (caniuse-lite) is 10 months old. Please run:
  npx update-browserslist-db@latest
  Why you should do it regularly: https://github.com/browserslist/update-db#readme
✓ 51 modules transformed.
x Build failed in 1.14s
error during build:
[vite:esbuild] Transform failed with 1 error:
/opt/ceshtje_ligjore/ceshtje_ligjore/client/src/components/case-entry-form.tsx:70:13: ERROR: Expected ")" but found ":"
file: /opt/ceshtje_ligjore/ceshtje_ligjore/client/src/components/case-entry-form.tsx:70:13

Expected ")" but found ":"
68 |      },
69 |      },
70 |      onSuccess: () => {
   |               ^
71 |        toast({
72 |          title: "Çështja u shtua me sukses",

    at failureErrorWithLog (/opt/ceshtje_ligjore/ceshtje_ligjore/node_modules/vite/node_modules/esbuild/lib/main.js:1472:15)
    at /opt/ceshtje_ligjore/ceshtje_ligjore/node_modules/vite/node_modules/esbuild/lib/main.js:755:50
    at responseCallbacks.<computed> (/opt/ceshtje_ligjore/ceshtje_ligjore/node_modules/vite/node_modules/esbuild/lib/main.js:622:9)
    at handleIncomingPacket (/opt/ceshtje_ligjore/ceshtje_ligjore/node_modules/vite/node_modules/esbuild/lib/main.js:677:12)
    at Socket.readFromStdout (/opt/ceshtje_ligjore/ceshtje_ligjore/node_modules/vite/node_modules/esbuild/lib/main.js:600:7)
    at Socket.emit (node:events:524:28)
    at addChunk (node:internal/streams/readable:561:12)
    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)
    at Readable.push (node:internal/streams/readable:392:5)
    at Pipe.onStreamRead (node:internal/stream_base_commons:191:23)
root@ceshtjeligjore:~#
